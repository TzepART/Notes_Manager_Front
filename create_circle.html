<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="import" href="head.html">
</head>
<body>
<div class="container">
    <div class="header clearfix">
        <nav>
            <ul class="nav nav-pills pull-right">
                <li role="presentation"><a href="list_circle.html">Home</a></li>
                <li role="presentation" class="active"><a href="create_circle.html">Добавить окружность</a></li>
                <li role="presentation"><a href="create_note.html">Добавить заметку</a></li>
                <li role="presentation"><a href="index.html">About</a></li>
            </ul>
        </nav>
        <h3 class="text-muted">Notes Manager <span class="label label-default">Beta</span></h3>
    </div>

    <div class="row">
        <form method="post" name="form1" action="#" enctype="multipart/form-data"
              class="jumbotron col-md-6 col-md-offset-3 create_circle_form">

            <h2 style="text-align: center">Создать Окружность</h2>
            <div class="form-group create_circle">
                <input type="text" name="name" placeholder="Название окружности" class="form-control"/>
            </div>

            <div class="form-group">
                <input type="number" name="layers_number" placeholder="Колличество уровней" class="form-control"/>
            </div>


            <h2 style="text-align: center">Создать секторы</h2>

            <div id="formCircleCreate">
                <div class="form-group create_sector">
                    <input type="text" placeholder="Название сектора"  name="sector_name[1]" class="form-control" value="" autocomplete="off"/>
                    <input type="color" placeholder="Цвет сектора"  name="sector_color[1]" class="form-control" value="#7FFF00" autocomplete="off"/>
                    <input type="button" class="form-control" onclick="return deleteField(this)" href="#" value="Del">
                </div>

                <div class="form-group create_sector">
                    <input type="text" placeholder="Название сектора"  name="sector_name[2]" class="form-control" value="" autocomplete="off"/>
                    <input type="color" placeholder="Цвет сектора"  name="sector_color[2]" class="form-control" value="#FF8C00" autocomplete="off"/>
                    <input type="button" class="form-control" onclick="return deleteField(this)" href="#" value="Del">
                </div>

                <div class="form-group create_sector">
                    <input type="text" placeholder="Название сектора"  name="sector_name[3]" class="form-control" value="" autocomplete="off"/>
                    <input type="color" placeholder="Цвет сектора"  name="sector_color[3]" class="form-control" value="#6495ED" autocomplete="off"/>
                    <input type="button" class="form-control" onclick="return deleteField(this)" href="#" value="Del">
                </div>
            </div>

            <div class="form-group form_submit" >
                <a class="btn btn-primary btn-block" onclick="return addField()" href="#">Добавить сектор</a>
                <input name="save" value="Создать окружность" class="btn btn-success btn-block" type="submit">
            </div>
        </form>
    </div>

    <script>
        var countOfFields = 3; // Текущее число полей
        var curFieldNameId = 5; // Уникальное значение для атрибута name
        var maxFieldLimit = 12; // Максимальное число возможных полей
        function deleteField(a) {
            //if (countOfFields > 0) {
            var arrInput = a.parentNode.getElementsByTagName('input');
            var name = arrInput[0].value;

//            BX.ajax.post(window.location.href, {delete_name : name} ,function(){});
            // Получаем доступ к ДИВу, содержащему поле
            var contDiv = a.parentNode;
            // Удаляем этот ДИВ из DOM-дерева
            contDiv.parentNode.removeChild(contDiv);
            // Уменьшаем значение текущего числа полей
            countOfFields--;
            //}
            // Возвращаем false, чтобы не было перехода по сслыке
            return false;
        }
        function addField() {
            // Проверяем, не достигло ли число полей максимума
            if (countOfFields >= maxFieldLimit) {
                alert("Число полей достигло своего максимума = " + maxFieldLimit);
                return false;
            }
            // Увеличиваем текущее значение числа полей
            countOfFields++;
            // Увеличиваем ID
            curFieldNameId++;
            // Создаем элемент ДИВ
            var div = document.createElement("div");
            // Добавляем HTML-контент с пом. свойства innerHTML
            div.innerHTML = "<nobr><input name=\"name[" + curFieldNameId + "]\" type=\"text\" style=\"width:300px;\"/>" +
                    "<input name=\"descript[" + curFieldNameId + "]\" type=\"text\" style=\"width:300px;\" />" +
                    " <a class=\"adm-table-btn-delete\" onclick=\"return deleteField(this)\" href=\"#\"></a><br>";
            div.innerHTML = " <div class=\"form-group create_sector\">" +
                                 "<input type=\"text\" placeholder=\"Название сектора\"  name=\"sector_name[3]\" class=\"form-control\" value=\"\" autocomplete=\"off\"/>" +
                                 "<input type=\"color\" placeholder=\"Цвет сектора\"  name=\"sector_color[3]\" class=\"form-control\" value=\"#6495ED\" autocomplete=\"off\"/>" +
                                  " <input type=\"button\" class=\"form-control\" onclick=\"return deleteField(this)\" href=\"#\" value=\"Del\">" +
                            " </div>";
            // Добавляем новый узел в конец списка полей
            document.getElementById("formCircleCreate").appendChild(div);
            // Возвращаем false, чтобы не было перехода по сслыке
            return false;
        }
    </script>

    <footer class="footer">
        <p>&copy; 2016 TzepArt Company, Inc.</p>
    </footer>

</div> <!-- /container -->
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="bootstrap/js/bootstrap.min.js"></script>
<script src="js/script.js"></script>
</body>
</html>